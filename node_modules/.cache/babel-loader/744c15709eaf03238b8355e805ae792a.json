{"ast":null,"code":"var _jsxFileName = \"/Users/dino/Desktop/SofaScore Academy - MyFiles/SofaScore-Academy/dz8/react-router/src/modules/LoginPage/LoginPage.js\";\nimport React from \"react\";\nimport useFormValidation from \"../../utils/useFormValidation\";\nimport validateAuth from \"../../utils/validateAuth\";\nimport { useDispatch } from \"react-redux\";\nimport \"./loginPage.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { requestOptions } from \"../../api/requestOptions\";\nimport { setUser } from \"../../redux/actions\";\nconst INITIAL_STATE = {\n  username: \"\",\n  password: \"\"\n};\n\nconst LoginPage = () => {\n  const {\n    handleChange,\n    handleBlur,\n    values,\n    errors\n  } = useFormValidation(INITIAL_STATE, validateAuth);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const hasErrors = !!Object.keys(errors).length;\n\n  const handleSubmit = () => {\n    if (!hasErrors) {\n      fetch(\"https://private-leagues-api.herokuapp.com/api/login\", requestOptions(values)).then(resp => resp.json()).then(data => {\n        if (data.errors) {\n          history.push(\"*\");\n        } else {\n          dispatch(setUser(data));\n          history.push(\"/\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-right-part-background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-left-part-background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-back-of-sofa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-sofa-seat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    onBlur: handleBlur,\n    type: \"text\",\n    name: \"username\",\n    value: values.username,\n    placeholder: \"Username/email\",\n    className: `form-field animation a3 ${errors.username && \"error-input\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 31\n    }\n  }, errors.username), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    onBlur: handleBlur,\n    type: \"password\",\n    name: \"password\",\n    value: values.password,\n    placeholder: \"Password\",\n    className: `form-field animation a4 ${errors.password && \"error-input\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 31\n    }\n  }, errors.password), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"animation a6\",\n    onClick: handleSubmit,\n    disabled: hasErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animation a7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/signUp`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Don't have an account, Sign Up\")))));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/dino/Desktop/SofaScore Academy - MyFiles/SofaScore-Academy/dz8/react-router/src/modules/LoginPage/LoginPage.js"],"names":["React","useFormValidation","validateAuth","useDispatch","Link","useHistory","requestOptions","setUser","INITIAL_STATE","username","password","LoginPage","handleChange","handleBlur","values","errors","dispatch","history","hasErrors","Object","keys","length","handleSubmit","fetch","then","resp","json","data","push"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport useFormValidation from \"../../utils/useFormValidation\";\nimport validateAuth from \"../../utils/validateAuth\";\nimport { useDispatch } from \"react-redux\";\nimport \"./loginPage.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { requestOptions } from \"../../api/requestOptions\";\nimport { setUser } from \"../../redux/actions\";\n\nconst INITIAL_STATE = {\n  username: \"\",\n  password: \"\",\n};\n\nconst LoginPage = () => {\n  const {\n    handleChange,\n    handleBlur,\n    values,\n    errors,\n  } = useFormValidation(INITIAL_STATE, validateAuth);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const hasErrors = !!Object.keys(errors).length;\n\n  const handleSubmit = () => {\n    if (!hasErrors) {\n      fetch(\n        \"https://private-leagues-api.herokuapp.com/api/login\",\n        requestOptions(values)\n      )\n        .then((resp) => resp.json())\n        .then((data) => {\n          if (data.errors) {\n            history.push(\"*\")\n          } else {\n            dispatch(setUser(data));\n            history.push(\"/\");\n          }\n        });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"section shadow\">\n        <div className=\"logo-right-part-background\">\n          <div className=\"logo-left-part-background\">\n            <div className=\"logo-back-of-sofa\"></div>\n            <div className=\"logo-sofa-seat\"></div>\n          </div>\n        </div>\n        <div className=\"form\">\n          <input\n            onChange={handleChange}\n            onBlur={handleBlur}\n            type=\"text\"\n            name=\"username\"\n            value={values.username}\n            placeholder=\"Username/email\"\n            className={`form-field animation a3 ${\n              errors.username && \"error-input\"\n            }`}\n          />\n          {errors.username && <p className=\"error-text\">{errors.username}</p>}\n          <input\n            onChange={handleChange}\n            onBlur={handleBlur}\n            type=\"password\"\n            name=\"password\"\n            value={values.password}\n            placeholder=\"Password\"\n            className={`form-field animation a4 ${\n              errors.password && \"error-input\"\n            }`}\n          />\n          {errors.password && <p className=\"error-text\">{errors.password}</p>}\n          <button\n            className=\"animation a6\"\n            onClick={handleSubmit}\n            disabled={hasErrors}\n          >\n            Login\n          </button>\n          <div className=\"animation a7\">\n            <Link to={`/signUp`}>Don't have an account, Sign Up</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}